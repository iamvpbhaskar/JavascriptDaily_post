<!-- Nullish coalescing operator '??' -->

<!-- The nullish coalescing operator is written as two question marks ??. -->

<!-- As it treats null and undefined similarly, we’ll use a special term here, in this article. For brevity, we’ll say that a value is “defined” when it’s neither null nor undefined. -->

<!-- The result of a ?? b is: -->

<!-- if a is defined, then a,
if a isn’t defined, then b. -->
<!-- 
The nullish coalescing operator isn’t anything completely new. It’s just a nice syntax to get the first “defined” value of the two.

We can rewrite result = a ?? b using the operators that we already know, like this: -->

<!-- The common use case for ?? is to provide a default value.

For example, here we show user if its value isn’t null/undefined, otherwise Anonymous: -->
<script>
    let user;
        alert(user ?? "Anonymous"); // Anonymous (user is undefined)

</script>
<!-- Here’s the example with user assigned to a name: -->
<script>
    let user1 = "John";
        alert(user1 ?? "Anonymous"); // John (user is not null/undefined)
</script>

<!-- Let’s use the ?? operator for that: -->
<script>
    let firstName = null;
    let lastName = null;
    let nickName = "Supercoder";
</script>



<!-- // shows the first defined value: -->
<script>
    alert(firstName ?? lastName ?? nickName ?? "Anonymous"); // Supercoder
</script>

<!-- Comparison with ||
The OR || operator can be used in the same way as ??, as it was described in the previous chapter.

For example, in the code above we could replace ?? with || and still get the same result: -->
<script>
let firstName1 = null;
let lastName1= null;
let nickName1 = "Supercoder";
</script>


<!-- // shows the first truthy value: -->
<script>
    alert(firstName || lastName || nickName || "Anonymous"); // Supercoder
</script>

<!-- Historically, the OR || operator was there first. It’s been there since the beginning of JavaScript, so developers were using it for such purposes for a long time.

On the other hand, the nullish coalescing operator ?? was added to JavaScript only recently, and the reason for that was that people weren’t quite happy with ||.

The important difference between them is that:

|| returns the first truthy value.
?? returns the first defined value. -->

<script>
let height = 0;

alert(height || 100); // 100
alert(height ?? 100); // 0
</script>

<!-- The height || 100 checks height for being a falsy value, and it’s 0, falsy indeed.
so the result of || is the second argument, 100.
The height ?? 100 checks height for being null/undefined, and it’s not,
so the result is height “as is”, that is 0. -->

<!-- Precedence -->
<!-- ||, the nullish coalescing operator ?? is evaluated before = and ?, -->
<script>
    let height1 = null;
let width = null;

// important: use parentheses
let area = (height1 ?? 100) * (width ?? 50);

alert(area); // 5000
</script>

<!-- Using ?? with && or || -->
<!-- Due to safety reasons, JavaScript forbids using ?? together with && and || operators, unless the precedence is explicitly specified with parentheses. -->

<!-- The limitation is surely debatable, it was added to the language specification with the purpose to avoid programming mistakes, when people start to switch from || to ??. -->

<!-- Use explicit parentheses to work around it: -->
<script>
    let x = (1 && 2) ?? 3; // Works
    alert(x); // 2
</script>

<!-- Summary
The nullish coalescing operator ?? provides a short way to choose the first “defined” value from a list.

It’s used to assign default values to variables: -->

// set height=100,

 <!-- if height is null or undefined -->

height = height ?? 100;
<!-- The operator ?? has a very low precedence, only a bit higher than ? and =, so consider adding parentheses when using it in an expression. -->

<!-- It’s forbidden to use it with || or && without explicit parentheses. -->
