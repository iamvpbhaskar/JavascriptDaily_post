<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Expressions in JavaScript</title>
</head>
<body>
    <script>
        "use strict";

        // Function Declaration
        function sayHi() {
            alert("Hello");
        }

        // Function Expression
        let sayHello = function () {
            alert("Hello");
        };

        // A function is a value
        {
            function sayHii() {
                alert("Hello");
            }

            alert(sayHii); // Shows the function code
        }

        // Callback functions
        // write a function ask(question, yes, no) with three parameters:

        // question
        // Text of the question
        // yes
        // Function to run if the answer is “Yes”
        // no
        // Function to run if the answer is “No”
        // The function should ask the question and, depending on the user’s answer, call yes() or no():

        function ask(question, yes, no) {
            if (confirm(question)) yes();
            else no();
        }

        function showOk() {
            alert("You agreed.");
        }

        function showCancel() {
            alert("You canceled the execution.");
        }

        // Usage: functions showOk, showCancel are passed as arguments to ask
        ask("Do you agree?", showOk, showCancel);

        // The arguments showOk and showCancel of ask are called callback functions or just callbacks.
        // The idea is that we pass a function and expect it to be “called back” later if necessary.
        // In our case, showOk becomes the callback for “yes” answer, and showCancel for “no” answer.

        // Function Expression shorter function:
        function ask(question, yes, no) {
            if (confirm(question)) yes();
            else no();
        }

        ask(
            "Do you agree?",
            function () {
                alert("You agreed.");
            },
            function () {
                alert("You canceled the execution.");
            }
        );

        //Function Declaration: a function, declared as a separate statement, in the main code flow:

        // Function Declaration
        function sum(a, b) {
            return a + b;
        }
        // Function Expression: a function, created inside an expression or inside another syntax construct.
        // Here, the function is created on the right side of the “assignment expression” =:

        // Function Expression
        let sumFn = function (a, b) {
            return a + b;
        };

        // A Function Expression is created when the execution reaches it and is usable only from that moment.
        // Once the execution flow passes to the right side of the assignment let sum = function… – here we go,
        // the function is created and can be used (assigned, called, etc. ) from now on.

        // Function Declarations are different.
        // A Function Declaration can be called earlier than it is defined.
        // For example, a global Function Declaration is visible in the whole script, no matter where it is.

        // after all Function Declarations are processed, the code is executed. So it has access to these functions.
        sayHi("John"); // Hello, John

        function sayHi(name) {
            alert(`Hello, ${name}`);
        }

        // The Function Declaration sayHi is created when JavaScript is preparing to start the script and is visible everywhere in it.

        // …If it were a Function Expression, then it wouldn’t work:

        // sayHi("John"); // error!

        let sayHi1 = function (name) {
            // (*) no magic any more
            alert(Hello, {name});
        };
        // Function Expressions are created when the execution reaches them. That would happen only in the line (*). Too late.

        // Another special feature of Function Declarations is their block scope.

        // In strict mode, when a Function Declaration is within a code block, it’s visible everywhere inside that block. But not outside of it.

        // If we use Function Declaration, it won’t work as intended:
        let age = prompt("What is your age?", 18);

        // conditionally declare a function
        if (age < 18) {
            function welcome() {
                alert("Hello!");
            }
        } else {
            function welcome() {
                alert("Greetings!");
            }
        }

        // ...use it later
        welcome(); // Error: welcome is not defined

        // That’s because a Function Declaration is only visible inside the code block in which it resides. 
    </script>
</body>
</html>
